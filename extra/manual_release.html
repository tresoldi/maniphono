<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Maniphono</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      word-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Maniphono</h1>
</header>
<p><code>maniphono</code> is a library for the manipulation of phonological units, designed as a solution historical phonology. While offering two standard models for operation, one modified from the IPA but following as much as possible its descriptors and one using distinctive features which is designed for machine learning, it is designed to support custom phonological models, trying as much as possible to be agnostic about the theoretical background. It also gives particular attention since design stage to the role of suprasegmentals.</p>
<p><code>maniphono</code> operates on a hierarchy of phonological abstractions, all which are related in some way to a “phonological model” that serves as the basis of all operations. This hierarchy is:</p>
<ul>
<li>a “phonological model” comprises a set of features operating in a many-valued logic system: each <code>feature</code> may be either undefined or defined by defined by one and only one “feature value” (or <code>favalue</code>) and a map of sounds (given by their graphemes) and the feature values that define them</li>
<li>a “sound” is a bundle of zero or more feature values and is intended to mostly map individual abstract acoustic performances</li>
<li>a “segment” is a unit of analysis, as decided by the user; the most common segment is, by far, a “sound segment”, which is a segment composed of one (monosonic segment) or more (polysonic segment) sounds</li>
<li>a “sequence” is an ordered collection of segments and a set of information on suprasegmental properties, such as syllable breaks, tones, etc.</li>
</ul>
<p>Each unit is described in more detail in the subsequent sections. As as set of examples, however:</p>
<ul>
<li><code>model_mipa</code> is the standard phonological model in <code>maniphono</code>, comprised (at the time of writing) of 20 features (such as <code>manner</code> and <code>length</code>), 64 fvalues (such as <code>affricate</code> and <code>approximant</code>, values of the <code>manner</code> feature, and <code>half-long</code> and <code>long</code>, values of the <code>length</code> feature), and 231 graphemes (such as <code>a</code>, defined as an <code>open front unrounded vowel</code>)</li>
<li>sounds are to a large extend phonological abstractions represented by a single IPA glyph (potentially with diacritics), such as <code>open front unrounded vowel</code> (that is, /a/) or <code>voiced alveolar non-sibilant lateral affricate consonant</code> (that is, /dɮ/). Sounds can also be “partial”, in the sense that they are not fully defined and thus represent what is normally called a “class” of sounds, such as <code>glottal consonant</code> (represented by <code>H</code>)</li>
<li>a sound segment is intended as a unit of analysis, contingent to the user decisions. For example, a bisonic segment can be used to represent a diphthong in case they are supposed to be treated as a single unit of analysis (such as <code>/a+j/</code>, in <code>maniphono</code>’s notation), which is different from a sequence of two monosonic segments (that is, <code>/a j/</code>)</li>
<li>a sequence is a list of segments, such as <code>[p a p a+j]</code>, which is a sequence of four segments (the last of which is composed of two sounds). It can carry additional information, such as word boundaries as in <code>[# p a p a+j #]</code>, syllable breaks as in <code>[# p a . p a+j #]</code>, and tonal information as in <code>[# p a ˧˩ . p a+j ˨˦ #]</code></li>
</ul>
<h2 id="phonomodel">PhonoModel</h2>
<p>By design, a “PhonoModel” works in a way independent</p>
<h2 id="description">Description</h2>
<p>Mostly text based models, so it can be used in other systems and programming languages.</p>
<p>bundle</p>
<p>segment</p>
<p>grapheme</p>
<p>model</p>
<p>The central concepts of a model are “features” and “values”. A feature is a set of one or more values that can be used to describe a sound or a group of sounds (a “sound class”). For example, the “centrality” feature, used to describe the horizontal position of the tongue in vowel production in the IPA, can take five different values: front, near-front, central, near-back, back. All values within the same feature are exclusive, meaning that no bundle can be carry two or more values from the same feature; in most operations, applying a value from a feature that is already set overrides the said value. For models derived from binary distinctive features, (discuss three-value), each feature feature will usually have two values, corresponding to the presence or absence, such as feature “dorsal” with the potential values “-dorsal” (or “non-dorsal”) and “+dorsal” (or just “dorsal”).</p>
<p>Value names are globally unique within a model, including those of different features. Valid names are…. Each value is associated with additional properties that are used to manipulate and render sounds or bounds. Note that all these properties are related to values and not features, meaning that different values of the same feature might have different weights, implications, etc. (even though in most cases all values of the same feature will share weights and implications).</p>
<ul>
<li><p>The weight specifies the “importance” of the value in relation to other values. The definition is importance is loose and depends on the context, but in most cases it references to what takes precedence when generating some output: for example, the most important feature in the IPA model is the type of the sound, meaning either a consonant or a vowel, as correspondigly the generated English names will have the noun “vowel” or “consonant” at the end. Note that the weight is inversely related to the importance: the lower the weight, the more important the value.</p></li>
<li><p>The implies lists the conditions for a value to be set, that is, which values must be present or are implied by another. For example, all value of feature “manner”, the manner of articulation for consonants, such as plosive or trill, imply the feature “consonant” and cannot in the IPA model be applied to vowels. implies are not mandatory, and more than one might be listed, separating them with vertical bars (but nested ones are not allowed)</p></li>
<li><p>Prefix and suffix list the substring preceding and following a grapheme string so it can be modified; for example, in the IPA model, the feature aspiration has no prefix but a <code>ʰ</code> suffix, so that an “aspirated voiceless plosive consonant” ([p]) is rendered as the base sound listed [p] “voiceless plosive consonant” plus the suffix. Prefixes and suffixes are added to a grapheme string in order of their weight, defaulting to alphabetical value name in case of two or more values with the same weight (guaranteeing reproducibility). If a value lists no prefix or suffix, the information is added to the grapheme with a full list of the values between brackets; if we did not list one for aspiration, the “aspirated voiceless plosive consonant” would be rendered as “p[aspirated]” (this can of grapheme can be parsed by the system)</p></li>
</ul>
<h1 id="maniphono">maniphono</h1>
<p><code>maniphono</code> is a library for the symbolic manipulation of phonological units.</p>
<p>The main components of the library are <code>PhonoModels</code>, which define different models and sounds, and actual abstractions.</p>
<p>Models have two main components: the description of features and values and the description of sounds.</p>
<p>The actual abstractions are organized in levels of nested complexity, as follows:</p>
<pre><code>- `Sounds` are the basic units, defined as lists of features
- `Segments` are collections of one or more sounds
- `Sequences` are collections of one or more segments</code></pre>
<h2 id="usage">Usage</h2>
<p>The library is intended to be used as normal Python package, trying to follow the conventions and expectations of its programming language. A few decisions on implementation might fall short in this principle, but they are justified by the future plans of offering an equivalent interface in different programming languages that can easily used on client browser connections and/or compiled to machine code for easier parallel processing.</p>
<p>The library is imported as expected. It is currently distributed with two models, <code>mipa</code> and <code>tresoldi</code>, which offer a modified version of IPA and one of full binary distinctive features that is intended mostly for machine learning approaches. In all cases, the <code>mipa</code> model is used as default.</p>
<div class="sourceCode" id="cb2" data-startFrom="1"><pre class="sourceCode numberSource python numberLines"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1"></a><span class="im">import</span> maniphono</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="bu">print</span>(maniphono.model_mipa)</span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="bu">print</span>(maniphono.model_tresoldi)</span></code></pre></div>
<pre class="stdout"><code>[`mipa` model (20 features, 64 fvalues, 231 graphemes)]
[`tresoldi` model (30 features, 60 fvalues, 570 graphemes)]</code></pre>
<h3 id="sounds">Sounds</h3>
<p>A <code>Sound</code> can be initialized either with a grapheme, by default, or a description. Descriptions can be either a list of values or a string listing different values and separated by a standard delimiter such as spaces or commas. A model must also be provided, defaulting to <code>mipa</code> as mentioned above. Segments can be “visualized” with <code>str()</code>, returning a graphemic representation, or with <code>repr()</code>, returned a descriptive representation.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> snd1 <span class="op">=</span> maniphono.Sound(<span class="st">&quot;p&quot;</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">str</span>(snd1), <span class="bu">repr</span>(snd1)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>(<span class="st">&#39;p&#39;</span>, <span class="st">&#39;voiceless bilabial plosive consonant&#39;</span>)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> snd2 <span class="op">=</span> maniphono.Sound(description<span class="op">=</span><span class="st">&quot;voiceless bilabial plosive consonant&quot;</span>)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">str</span>(snd2), <span class="bu">repr</span>(snd2)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>(<span class="st">&#39;p&#39;</span>, <span class="st">&#39;voiceless bilabial plosive consonant&#39;</span>)</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> snd3 <span class="op">=</span> maniphono.Sound(<span class="st">&quot;a&quot;</span>, model<span class="op">=</span>maniphono.model_tresoldi)</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">str</span>(snd3), <span class="bu">repr</span>(snd3)</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>(<span class="st">&#39;a&#39;</span>, <span class="st">&#39;low non-back non-high non-sibilant non-strident distributed anterior non-constricted non-spread voice dorsal non-labial non-click coronal place non-lateral laryngeal syllabic tense non-consonantal non-nasal approximant continuant sonorant&#39;</span>)</span></code></pre></div>
<p>The easiest way to manipulate sounds is using the add (<code>+</code>) and sub (<code>-</code>) operators, which accept both single and multiple values. If a value from a feature that is already set is added, it will be replaced.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> snd1 <span class="op">+=</span> <span class="st">&#39;voiced&#39;</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">str</span>(snd1), <span class="bu">repr</span>(snd1)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>(<span class="st">&#39;b&#39;</span>, <span class="st">&#39;voiced bilabial plosive consonant&#39;</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> snd2 <span class="op">+=</span> <span class="st">&#39;velar,aspirated,labialized&#39;</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">str</span>(snd2), <span class="bu">repr</span>(snd2)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>(<span class="st">&#39;kʰʷ&#39;</span>, <span class="st">&#39;labialized aspirated voiceless velar plosive consonant&#39;</span>)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> snd2 <span class="op">-=</span> <span class="st">&#39;aspirated&#39;</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">str</span>(snd2), <span class="bu">repr</span>(snd2)</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>(<span class="st">&#39;kʷ&#39;</span>, <span class="st">&#39;labialized voiceless velar plosive consonant&#39;</span>)</span></code></pre></div>
<p>A dictionary of features and values can be easily obtained:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> snd2.feature_dict()</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>{<span class="st">&#39;phonation&#39;</span>: <span class="st">&#39;voiceless&#39;</span>, <span class="st">&#39;manner&#39;</span>: <span class="st">&#39;plosive&#39;</span>, <span class="st">&#39;type&#39;</span>: <span class="st">&#39;consonant&#39;</span>, <span class="st">&#39;place&#39;</span>: <span class="st">&#39;velar&#39;</span>, <span class="st">&#39;labialization&#39;</span>: <span class="st">&#39;labialized&#39;</span>}</span></code></pre></div>
<p>If a grapheme is not available, either because the sound is not complete or because no diacritic is offered in the model, the library will try to be explicit about its representation.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> snd4 <span class="op">=</span> maniphono.Sound(description<span class="op">=</span><span class="st">&quot;voiceless consonant&quot;</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">str</span>(snd4), <span class="bu">repr</span>(snd4)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>(<span class="st">&#39;C̥&#39;</span>, <span class="st">&#39;voiceless consonant&#39;</span>)</span></code></pre></div>
<p>While the results are technically correct, the library still needs work for always returning good representations when it computes the grapheme.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> snd5 <span class="op">=</span> maniphono.Sound(<span class="st">&quot;kʰʷ[voiced]&quot;</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">str</span>(snd5), <span class="bu">repr</span>(snd5)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>(<span class="st">&#39;ɡʰʷ&#39;</span>, <span class="st">&#39;labialized aspirated voiced velar plosive consonant&#39;</span>)</span></code></pre></div>
<h3 id="segments">Segments</h3>
<p>Segments can combine sounds of different models. The decision of what makes up a segment is entirely up to the user; the class can be initialized with a <code>Sound</code>, in case of monosonic segments, or with an ordered list of sounds.</p>
<p>Segments can be represented with <code>__str__</code> and can include a delimiter, by default a <code>+</code> sign.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> snd1 <span class="op">=</span> maniphono.Sound(<span class="st">&quot;w&quot;</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> snd2 <span class="op">=</span> maniphono.Sound(<span class="st">&quot;a&quot;</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> snd3 <span class="op">=</span> maniphono.Sound(<span class="st">&quot;j&quot;</span>, model<span class="op">=</span>maniphono.model_tresoldi)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> seg1 <span class="op">=</span> maniphono.Segment(snd1)</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> seg2 <span class="op">=</span> maniphono.Segment([snd2, snd3])</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> seg3 <span class="op">=</span> maniphono.Segment([snd1, snd2, snd3])</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">str</span>(seg1), <span class="bu">str</span>(seg2), <span class="bu">str</span>(seg3)</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>(<span class="st">&#39;w&#39;</span>, <span class="st">&#39;a+j&#39;</span>, <span class="st">&#39;w+a+j&#39;</span>)</span></code></pre></div>
<h3 id="sequences">Sequences</h3>
<p>Sequences combine segments in order.</p>
<p>Sequences can be represented with <code>__str__</code> and always use a white space as a delimiter (following CLDF convention) as well as leading and trailing square brackets (<code>[</code> and <code>]</code>).</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;</span> <span class="op">&gt;</span> snd1, snd2, snd3 <span class="op">=</span> maniphono.Sound(<span class="st">&quot;p&quot;</span>), maniphono.Sound(<span class="st">&quot;a&quot;</span>), maniphono.Sound(<span class="st">&quot;w&quot;</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;</span> <span class="op">&gt;</span> seg1, seg2, seg3 <span class="op">=</span> maniphono.Segment(snd1), maniphono.Segment(snd2), maniphono.Segment([snd3])</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;</span> <span class="op">&gt;</span> seg4 <span class="op">=</span> maniphono.Segment([snd2, snd3])</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;</span> <span class="op">&gt;</span> <span class="bu">str</span>(seg1), <span class="bu">str</span>(seg2), <span class="bu">str</span>(seg3), <span class="bu">str</span>(seg4)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>(<span class="st">&#39;p&#39;</span>, <span class="st">&#39;a&#39;</span>, <span class="st">&#39;w&#39;</span>, <span class="st">&#39;a+w&#39;</span>)</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;</span> <span class="op">&gt;</span> seq1 <span class="op">=</span> maniphono.SegSequence([seg1, seg2])</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;</span> <span class="op">&gt;</span> seq2 <span class="op">=</span> maniphono.SegSequence([seg1, seg2, seg3])</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;</span> <span class="op">&gt;</span> seq3 <span class="op">=</span> maniphono.SegSequence([seg1, seg4])</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;</span> <span class="op">&gt;</span> seq4 <span class="op">=</span> maniphono.SegSequence([seg1, seg2, seg3, seg1, seg4])</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;</span> <span class="op">&gt;</span> <span class="bu">str</span>(seq1), <span class="bu">str</span>(seq2), <span class="bu">str</span>(seq3), <span class="bu">str</span>(seq4)</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>(<span class="st">&#39;[p a]&#39;</span>, <span class="st">&#39;[p a w]&#39;</span>, <span class="st">&#39;[p a+w]&#39;</span>, <span class="st">&#39;[p a w p a+w]&#39;</span>)</span></code></pre></div>
<h3 id="operations">Operations</h3>
<p><code>PhonoModel</code> offers a number of auxiliary methods.</p>
<p>The <code>.values2sounds()</code> method will take a list of value constraints, both in terms of presence and absence, and returned an order list of all graphemes defined in the model that satisfy the constraint.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> maniphono.model_mipa.values2graphemes(<span class="st">&quot;+vowel +front -close&quot;</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>[<span class="st">&#39;a&#39;</span>, <span class="st">&#39;ã&#39;</span>, <span class="st">&#39;e&#39;</span>, <span class="st">&#39;ẽ&#39;</span>, <span class="st">&#39;æ&#39;</span>, <span class="st">&#39;æ̃&#39;</span>, <span class="st">&#39;ø&#39;</span>, <span class="st">&#39;ø̃&#39;</span>, <span class="st">&#39;œ&#39;</span>, <span class="st">&#39;œ̃&#39;</span>, <span class="st">&#39;ɛ&#39;</span>, <span class="st">&#39;ɛ̃&#39;</span>, <span class="st">&#39;ɪ&#39;</span>, <span class="st">&#39;ɪ̃&#39;</span>, <span class="st">&#39;ɶ&#39;</span>, <span class="st">&#39;ɶ̃&#39;</span>, <span class="st">&#39;ʏ&#39;</span>, <span class="st">&#39;ʏ̃&#39;</span>]</span></code></pre></div>
<p>The <code>.minimal_matrix()</code> method will take a list of graphemes and return a dictionary with the minimum set of features in which they differ.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> maniphono.model_mipa.minimal_matrix([<span class="st">&quot;t&quot;</span>, <span class="st">&quot;d&quot;</span>])</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>{<span class="st">&#39;t&#39;</span>: {<span class="st">&#39;phonation&#39;</span>: <span class="st">&#39;voiceless&#39;</span>}, <span class="st">&#39;d&#39;</span>: {<span class="st">&#39;phonation&#39;</span>: <span class="st">&#39;voiced&#39;</span>}}</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">dict</span>(maniphono.model_mipa.minimal_matrix([<span class="st">&quot;t&quot;</span>, <span class="st">&quot;d&quot;</span>, <span class="st">&quot;s&quot;</span>]))</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>{<span class="st">&#39;t&#39;</span>: {<span class="st">&#39;manner&#39;</span>: <span class="st">&#39;plosive&#39;</span>, <span class="st">&#39;phonation&#39;</span>: <span class="st">&#39;voiceless&#39;</span>}, <span class="st">&#39;d&#39;</span>: {<span class="st">&#39;manner&#39;</span>: <span class="st">&#39;plosive&#39;</span>, <span class="st">&#39;phonation&#39;</span>: <span class="st">&#39;voiced&#39;</span>}, <span class="st">&#39;s&#39;</span>: {<span class="st">&#39;manner&#39;</span>: <span class="st">&#39;fricative&#39;</span>, <span class="st">&#39;phonation&#39;</span>: <span class="st">&#39;voiceless&#39;</span>}}</span></code></pre></div>
<p>Similarly, the <code>.class_features()</code> method will take a list of graphemes and return a dictionary of features and values the graphemes have in common. It can be used to discover what features make up a class with these sounds.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> maniphono.model_mipa.class_features([<span class="st">&quot;t&quot;</span>, <span class="st">&quot;d&quot;</span>])</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>{<span class="st">&#39;place&#39;</span>: <span class="st">&#39;alveolar&#39;</span>, <span class="st">&#39;type&#39;</span>: <span class="st">&#39;consonant&#39;</span>, <span class="st">&#39;manner&#39;</span>: <span class="st">&#39;plosive&#39;</span>}</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> maniphono.model_mipa.class_features([<span class="st">&quot;t&quot;</span>, <span class="st">&quot;d&quot;</span>, <span class="st">&quot;s&quot;</span>])</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>{<span class="st">&#39;place&#39;</span>: <span class="st">&#39;alveolar&#39;</span>, <span class="st">&#39;type&#39;</span>: <span class="st">&#39;consonant&#39;</span>}</span></code></pre></div>
<p>The <code>.value_vector()</code> method will take a grapheme and return a list of feature names and a boolean vector of presence/absence. It is mostly intended for machine learning projects; for human explorations or categorical machine learning, there is an option to return non-binary vectors.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> maniphono.model_mipa.value_vector(<span class="st">&quot;a&quot;</span>)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>([<span class="st">&#39;aspiration_aspirated&#39;</span>, <span class="st">&#39;centrality_back&#39;</span>, <span class="st">&#39;centrality_central&#39;</span>, <span class="st">&#39;centrality_front&#39;</span>, <span class="st">&#39;centrality_near-back&#39;</span>, <span class="st">&#39;centrality_near-front&#39;</span>, <span class="st">&#39;ejection_ejective&#39;</span>, <span class="st">&#39;height_close&#39;</span>, <span class="st">&#39;height_close-mid&#39;</span>, <span class="st">&#39;height_mid&#39;</span>, <span class="st">&#39;height_near-close&#39;</span>, <span class="st">&#39;height_near-open&#39;</span>, <span class="st">&#39;height_open&#39;</span>, <span class="st">&#39;height_open-mid&#39;</span>, <span class="st">&#39;labialization_labialized&#39;</span>, <span class="st">&#39;laterality_lateral&#39;</span>, <span class="st">&#39;length_half-long&#39;</span>, <span class="st">&#39;length_long&#39;</span>, <span class="st">&#39;manner_affricate&#39;</span>, <span class="st">&#39;manner_approximant&#39;</span>, <span class="st">&#39;manner_click&#39;</span>, <span class="st">&#39;manner_flap&#39;</span>, <span class="st">&#39;manner_fricative&#39;</span>, <span class="st">&#39;manner_implosive&#39;</span>, <span class="st">&#39;manner_plosive&#39;</span>, <span class="st">&#39;manner_trill&#39;</span>, <span class="st">&#39;nasality_nasal&#39;</span>, <span class="st">&#39;nasalization_nasalized&#39;</span>, <span class="st">&#39;palatalization_palatalized&#39;</span>, <span class="st">&#39;pharyngealization_pharyngealized&#39;</span>, <span class="st">&#39;phonation_voiced&#39;</span>, <span class="st">&#39;phonation_voiceless&#39;</span>, <span class="st">&#39;place_alveolar&#39;</span>, <span class="st">&#39;place_alveolo-palatal&#39;</span>, <span class="st">&#39;place_bilabial&#39;</span>, <span class="st">&#39;place_dental&#39;</span>, <span class="st">&#39;place_epiglottal&#39;</span>, <span class="st">&#39;place_glottal&#39;</span>, <span class="st">&#39;place_labial&#39;</span>, <span class="st">&#39;place_labio-alveolar&#39;</span>, <span class="st">&#39;place_labio-coronal&#39;</span>, <span class="st">&#39;place_labio-dental&#39;</span>, <span class="st">&#39;place_labio-palatal&#39;</span>, <span class="st">&#39;place_labio-velar&#39;</span>, <span class="st">&#39;place_linguo-labial&#39;</span>, <span class="st">&#39;place_palatal&#39;</span>, <span class="st">&#39;place_palato-velar&#39;</span>, <span class="st">&#39;place_pharyngeal&#39;</span>, <span class="st">&#39;place_post-alveolar&#39;</span>, <span class="st">&#39;place_retroflex&#39;</span>, <span class="st">&#39;place_uvular&#39;</span>, <span class="st">&#39;place_uvulo-epiglottal&#39;</span>, <span class="st">&#39;place_velar&#39;</span>, <span class="st">&#39;roundness_rounded&#39;</span>, <span class="st">&#39;roundness_unrounded&#39;</span>, <span class="st">&#39;sibilancy_non-sibilant&#39;</span>, <span class="st">&#39;sibilancy_sibilant&#39;</span>, <span class="st">&#39;syllabicity_non-syllabic&#39;</span>, <span class="st">&#39;syllabicity_syllabic&#39;</span>, <span class="st">&#39;type_consonant&#39;</span>, <span class="st">&#39;type_vowel&#39;</span>, <span class="st">&#39;uvularization_uvularized&#39;</span>, <span class="st">&#39;velarization_velarized&#39;</span>], [<span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">True</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">True</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">True</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">True</span>, <span class="va">False</span>, <span class="va">False</span>])</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> maniphono.model_mipa.value_vector(<span class="st">&quot;a&quot;</span>, binary<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>([<span class="st">&#39;aspiration&#39;</span>, <span class="st">&#39;centrality&#39;</span>, <span class="st">&#39;ejection&#39;</span>, <span class="st">&#39;height&#39;</span>, <span class="st">&#39;labialization&#39;</span>, <span class="st">&#39;laterality&#39;</span>, <span class="st">&#39;length&#39;</span>, <span class="st">&#39;manner&#39;</span>, <span class="st">&#39;nasality&#39;</span>, <span class="st">&#39;nasalization&#39;</span>, <span class="st">&#39;palatalization&#39;</span>, <span class="st">&#39;pharyngealization&#39;</span>, <span class="st">&#39;phonation&#39;</span>, <span class="st">&#39;place&#39;</span>, <span class="st">&#39;roundness&#39;</span>, <span class="st">&#39;sibilancy&#39;</span>, <span class="st">&#39;syllabicity&#39;</span>, <span class="st">&#39;type&#39;</span>, <span class="st">&#39;uvularization&#39;</span>, <span class="st">&#39;velarization&#39;</span>], [<span class="va">None</span>, <span class="st">&#39;front&#39;</span>, <span class="va">None</span>, <span class="st">&#39;open&#39;</span>, <span class="va">None</span>, <span class="va">None</span>, <span class="va">None</span>, <span class="va">None</span>, <span class="va">None</span>, <span class="va">None</span>, <span class="va">None</span>, <span class="va">None</span>, <span class="va">None</span>, <span class="va">None</span>, <span class="st">&#39;unrounded&#39;</span>, <span class="va">None</span>, <span class="va">None</span>, <span class="st">&#39;vowel&#39;</span>, <span class="va">None</span>, <span class="va">None</span>])</span></code></pre></div>
<p>All models allow to compute a distance between two sounds, with the distance between a sound and itself set, by design, to zero. In some cases this experimental method will compute and cache and <code>sklearn</code> regressor, which can take a while.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> maniphono.model_mipa.distance(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;a&quot;</span>)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fl">0.0</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> maniphono.model_mipa.distance(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;e&quot;</span>)</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="fl">3.7590891821444608</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> maniphono.model_mipa.distance(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;ʒ&quot;</span>)</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="fl">30.419280377524366</span></span></code></pre></div>
<h2 id="end-words">End words</h2>
<p>Lorem ipsum</p>
<div class="example">
<div class="exampleMarkup">
<pre><code>```{.html .cb.code include_file=python.html include_regex=&quot;&lt;header.*?/header&gt;&quot;}
```</code></pre>
</div>
<div class="exampleOutput">
<pre class="sourceError"><code>SOURCE ERROR in &quot;extra/manual.md&quot; near line 309:
Cannot include nonexistent file &quot;python.html&quot;</code></pre>
</div>
</div>
</body>
</html>
